<!doctype html>
<html lang="en">
  <head>
    <title>APP_NAME_PLACEHOLDER</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Listen to Torah shiurim on the go. Browse curated feeds, download for offline listening, and never miss a new episode." />
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      html, body {
        height: 100%;
      }
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        background: #f8f7f4;
        color: #2c2c2c;
        line-height: 1.6;
        -webkit-font-smoothing: antialiased;
      }

      .hero {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 40px 24px;
        background: linear-gradient(160deg, #1a2a3a 0%, #0f1923 50%, #1a2a3a 100%);
        color: #fff;
        position: relative;
        overflow: hidden;
      }
      .hero::before {
        content: '';
        position: absolute;
        top: -50%;
        right: -20%;
        width: 600px;
        height: 600px;
        background: radial-gradient(circle, rgba(180, 160, 120, 0.08) 0%, transparent 70%);
        pointer-events: none;
      }
      .hero::after {
        content: '';
        position: absolute;
        bottom: -30%;
        left: -10%;
        width: 500px;
        height: 500px;
        background: radial-gradient(circle, rgba(100, 140, 180, 0.06) 0%, transparent 70%);
        pointer-events: none;
      }

      .hero-inner {
        max-width: 960px;
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 48px;
        position: relative;
        z-index: 1;
      }

      .hero-text {
        text-align: center;
        max-width: 560px;
      }
      .app-icon {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #c4a96a, #a08040);
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 28px;
        box-shadow: 0 8px 32px rgba(0,0,0,0.3);
      }
      .app-icon svg {
        width: 40px;
        height: 40px;
        fill: #fff;
      }
      .hero-text h1 {
        font-size: 42px;
        font-weight: 700;
        letter-spacing: -0.5px;
        margin-bottom: 16px;
        line-height: 1.15;
      }
      .hero-text p {
        font-size: 18px;
        color: rgba(255,255,255,0.7);
        line-height: 1.7;
        max-width: 460px;
        margin: 0 auto;
      }

      .download-section {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 24px;
        width: 100%;
        max-width: 400px;
      }

      .store-badges {
        display: flex;
        flex-direction: column;
        gap: 12px;
        width: 100%;
      }
      .store-badge {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        padding: 14px 28px;
        background: rgba(255,255,255,0.1);
        border: 1px solid rgba(255,255,255,0.15);
        border-radius: 12px;
        color: #fff;
        text-decoration: none;
        font-size: 15px;
        font-weight: 500;
        transition: all 0.2s ease;
        backdrop-filter: blur(8px);
      }
      .store-badge:hover {
        background: rgba(255,255,255,0.18);
        border-color: rgba(255,255,255,0.3);
        transform: translateY(-1px);
      }
      .store-badge svg {
        width: 20px;
        height: 20px;
        fill: currentColor;
        flex-shrink: 0;
      }
      .store-badge-coming-soon {
        opacity: 0.6;
        cursor: default;
      }
      .store-badge-coming-soon:hover {
        transform: none;
        background: rgba(255,255,255,0.1);
        border-color: rgba(255,255,255,0.15);
      }
      .coming-soon-label {
        display: block;
        font-size: 10px;
        font-weight: 400;
        opacity: 0.7;
        letter-spacing: 0.5px;
        text-transform: uppercase;
      }

      .webapp-button {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        width: 100%;
        padding: 16px 28px;
        background: linear-gradient(135deg, #c4a96a, #a08040);
        border: none;
        border-radius: 12px;
        color: #fff;
        text-decoration: none;
        font-size: 16px;
        font-weight: 600;
        transition: all 0.2s ease;
        box-shadow: 0 4px 16px rgba(196, 169, 106, 0.3);
      }
      .webapp-button:hover {
        transform: translateY(-1px);
        box-shadow: 0 6px 24px rgba(196, 169, 106, 0.4);
      }
      .webapp-button svg {
        width: 22px;
        height: 22px;
        fill: currentColor;
        flex-shrink: 0;
      }

      .divider-text {
        font-size: 12px;
        color: rgba(255,255,255,0.35);
        text-transform: uppercase;
        letter-spacing: 2px;
      }

      .qr-card {
        background: #fff;
        border-radius: 16px;
        padding: 24px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 12px;
        box-shadow: 0 12px 48px rgba(0,0,0,0.2);
      }
      .qr-code {
        width: 160px;
        height: 160px;
      }
      .qr-code canvas {
        width: 100% !important;
        height: 100% !important;
      }
      .qr-label {
        font-size: 13px;
        color: #888;
        text-align: center;
      }

      .features {
        padding: 80px 24px;
        background: #fff;
      }
      .features-inner {
        max-width: 960px;
        margin: 0 auto;
      }
      .features-header {
        text-align: center;
        margin-bottom: 56px;
      }
      .features-header h2 {
        font-size: 28px;
        font-weight: 700;
        color: #1a1a1a;
        margin-bottom: 12px;
      }
      .features-header p {
        font-size: 16px;
        color: #777;
        max-width: 480px;
        margin: 0 auto;
      }

      .features-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 20px;
      }

      .feature-card {
        padding: 28px;
        background: #f8f7f4;
        border-radius: 14px;
        border: 1px solid #eee;
      }
      .feature-icon {
        width: 44px;
        height: 44px;
        background: #1a2a3a;
        border-radius: 11px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 16px;
      }
      .feature-icon svg {
        width: 22px;
        height: 22px;
        fill: #c4a96a;
      }
      .feature-card h3 {
        font-size: 17px;
        font-weight: 600;
        color: #1a1a1a;
        margin-bottom: 8px;
      }
      .feature-card p {
        font-size: 14px;
        color: #777;
        line-height: 1.6;
      }

      .contact-section {
        padding: 80px 24px;
        background: #f8f7f4;
      }
      .contact-inner {
        max-width: 640px;
        margin: 0 auto;
      }
      .contact-header {
        text-align: center;
        margin-bottom: 40px;
      }
      .contact-header h2 {
        font-size: 28px;
        font-weight: 700;
        color: #1a1a1a;
        margin-bottom: 12px;
      }
      .contact-header p {
        font-size: 16px;
        color: #777;
      }
      .contact-form {
        background: #fff;
        border-radius: 16px;
        border: 1px solid #eee;
        padding: 32px;
      }
      .form-row {
        display: grid;
        grid-template-columns: 1fr;
        gap: 16px;
        margin-bottom: 16px;
      }
      .form-field {
        margin-bottom: 16px;
      }
      .form-field label {
        display: block;
        font-size: 14px;
        font-weight: 500;
        color: #333;
        margin-bottom: 6px;
      }
      .form-field .optional {
        font-weight: 400;
        color: #999;
        font-size: 12px;
      }
      .form-field input,
      .form-field textarea {
        width: 100%;
        padding: 12px 16px;
        border: 1px solid #ddd;
        border-radius: 10px;
        font-size: 15px;
        font-family: inherit;
        color: #333;
        background: #fafafa;
        outline: none;
        transition: border-color 0.2s;
      }
      .form-field input:focus,
      .form-field textarea:focus {
        border-color: #c4a96a;
        background: #fff;
      }
      .form-field textarea {
        resize: vertical;
        min-height: 100px;
      }
      .contact-submit {
        display: block;
        width: 100%;
        padding: 14px;
        background: linear-gradient(135deg, #1a2a3a, #253d54);
        color: #fff;
        border: none;
        border-radius: 10px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s;
      }
      .contact-submit:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 16px rgba(26, 42, 58, 0.3);
      }
      .contact-submit:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
      }
      .contact-status {
        text-align: center;
        margin-top: 16px;
        font-size: 14px;
        min-height: 20px;
      }
      .contact-status.success {
        color: #059669;
      }
      .contact-status.error {
        color: #dc2626;
      }

      .footer {
        padding: 32px 24px;
        text-align: center;
        background: #f8f7f4;
        border-top: 1px solid #eee;
      }
      .footer p {
        font-size: 13px;
        color: #999;
      }
      .footer a {
        color: #1a2a3a;
        text-decoration: none;
        font-weight: 500;
      }
      .footer a:hover {
        text-decoration: underline;
      }

      .admin-link {
        margin-top: 16px;
      }
      .admin-link a {
        display: inline-block;
        padding: 8px 20px;
        background: #1a2a3a;
        color: #fff;
        border-radius: 8px;
        text-decoration: none;
        font-size: 13px;
        font-weight: 500;
        transition: background 0.2s;
      }
      .admin-link a:hover {
        background: #253d54;
      }

      /* Tablet */
      @media (min-width: 640px) {
        .store-badges {
          flex-direction: row;
        }
        .store-badge {
          flex: 1;
        }
        .features-grid {
          grid-template-columns: repeat(2, 1fr);
        }
        .form-row {
          grid-template-columns: 1fr 1fr;
        }
      }

      /* Desktop */
      @media (min-width: 900px) {
        .hero-inner {
          flex-direction: row;
          align-items: center;
          justify-content: space-between;
          gap: 64px;
        }
        .hero-text {
          text-align: left;
        }
        .hero-text h1 {
          font-size: 48px;
        }
        .hero-text p {
          margin: 0;
        }
        .app-icon {
          margin: 0 0 28px 0;
        }
        .download-section {
          flex-shrink: 0;
          max-width: 320px;
        }
        .features-grid {
          grid-template-columns: repeat(3, 1fr);
        }
        .features-header h2 {
          font-size: 32px;
        }
      }

      /* Large desktop */
      @media (min-width: 1200px) {
        .hero-inner {
          max-width: 1100px;
          gap: 80px;
        }
        .hero-text h1 {
          font-size: 54px;
        }
        .hero-text p {
          font-size: 19px;
        }
      }

      /* Dark mode */
      @media (prefers-color-scheme: dark) {
        body {
          background: #111;
          color: #ddd;
        }
        .features {
          background: #1a1a1a;
        }
        .features-header h2 {
          color: #eee;
        }
        .features-header p {
          color: #888;
        }
        .feature-card {
          background: #222;
          border-color: #333;
        }
        .feature-card h3 {
          color: #eee;
        }
        .feature-card p {
          color: #999;
        }
        .footer {
          background: #111;
          border-color: #222;
        }
        .footer p {
          color: #666;
        }
        .footer a {
          color: #c4a96a;
        }
        .contact-section {
          background: #111;
        }
        .contact-header h2 {
          color: #eee;
        }
        .contact-header p {
          color: #888;
        }
        .contact-form {
          background: #1a1a1a;
          border-color: #333;
        }
        .form-field label {
          color: #ccc;
        }
        .form-field input,
        .form-field textarea {
          background: #222;
          border-color: #333;
          color: #e0e0e0;
        }
        .form-field input:focus,
        .form-field textarea:focus {
          border-color: #c4a96a;
          background: #2a2a2a;
        }
      }

      /* Loading state for mobile redirect */
      .loading {
        display: none;
        text-align: center;
        padding: 60px 20px;
      }
      .spinner {
        border: 2px solid rgba(255,255,255,0.2);
        border-top-color: #fff;
        border-radius: 50%;
        width: 32px;
        height: 32px;
        animation: spin 0.8s linear infinite;
        margin: 20px auto;
      }
      @keyframes spin {
        to { transform: rotate(360deg); }
      }
      .loading-text {
        font-size: 16px;
        color: rgba(255,255,255,0.7);
      }
    </style>
  </head>
  <body>
    <div class="loading" id="loading">
      <div class="spinner"></div>
      <div class="loading-text">Opening app...</div>
    </div>

    <section class="hero" id="hero-section">
      <div class="hero-inner">
        <div class="hero-text">
          <div class="app-icon">
            <svg viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55C7.79 13 6 14.79 6 17s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>
          </div>
          <h1>APP_NAME_PLACEHOLDER</h1>
          <p>Listen to curated Torah shiurim on the go. Follow your favorite speakers, download episodes for offline listening, and pick up right where you left off.</p>
        </div>

        <div class="download-section">
          <div class="store-badges">
            <div class="store-badge store-badge-coming-soon">
              <svg viewBox="0 0 24 24"><path d="M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"/></svg>
              <span>Google Play<span class="coming-soon-label">Coming Soon</span></span>
            </div>
            <div class="store-badge store-badge-coming-soon">
              <svg viewBox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/></svg>
              <span>App Store<span class="coming-soon-label">Coming Soon</span></span>
            </div>
          </div>

          <a href="/webapp" class="webapp-button">
            <svg viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8h16v12z"/></svg>
            Open Web App
          </a>

          <span class="divider-text">or scan to open on phone</span>

          <div class="qr-card">
            <div class="qr-code" id="qr-code"></div>
            <span class="qr-label">Scan with your phone camera</span>
          </div>
        </div>
      </div>
    </section>

    <section class="features">
      <div class="features-inner">
        <div class="features-header">
          <h2>Everything you need to learn on the go</h2>
          <p>Built for listeners who want a focused, distraction-free shiur experience</p>
        </div>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">
              <svg viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg>
            </div>
            <h3>Curated Feeds</h3>
            <p>Browse hand-picked shiurim organized by speaker and topic. Follow your favorites to stay updated.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">
              <svg viewBox="0 0 24 24"><path d="M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"/></svg>
            </div>
            <h3>Offline Listening</h3>
            <p>Download episodes to listen anywhere, even without an internet connection. Auto-download on WiFi.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">
              <svg viewBox="0 0 24 24"><path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55C7.79 13 6 14.79 6 17s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/></svg>
            </div>
            <h3>Resume Playback</h3>
            <p>Pick up exactly where you left off. Your position is saved automatically across sessions.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">
              <svg viewBox="0 0 24 24"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/></svg>
            </div>
            <h3>New Episode Alerts</h3>
            <p>Get notified when new shiurim are added to the feeds you follow. Never miss a new episode.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">
              <svg viewBox="0 0 24 24"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H8V4h12v12z"/></svg>
            </div>
            <h3>Queue & Playlists</h3>
            <p>Build your listening queue and enjoy continuous playback. Reorder episodes to suit your schedule.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">
              <svg viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
            </div>
            <h3>Search & Discover</h3>
            <p>Search across all feeds to find exactly the shiur you're looking for. Explore trending episodes.</p>
          </div>
        </div>
      </div>
    </section>

    <section class="contact-section">
      <div class="contact-inner">
        <div class="contact-header">
          <h2>Contact Us</h2>
          <p>Have a question, suggestion, or shiur request? We'd love to hear from you.</p>
        </div>
        <form class="contact-form" id="contact-form">
          <div class="form-row">
            <div class="form-field">
              <label for="contact-name">Name</label>
              <input type="text" id="contact-name" required placeholder="Your name" />
            </div>
            <div class="form-field">
              <label for="contact-email">Email <span class="optional">(optional)</span></label>
              <input type="email" id="contact-email" placeholder="your@email.com" />
            </div>
          </div>
          <div class="form-field">
            <label for="contact-message">Message</label>
            <textarea id="contact-message" required rows="4" placeholder="How can we help?"></textarea>
          </div>
          <button type="submit" class="contact-submit" id="contact-submit">Send Message</button>
          <div class="contact-status" id="contact-status"></div>
        </form>
      </div>
    </section>

    <footer class="footer">
      <p>APP_NAME_PLACEHOLDER</p>
      <div class="admin-link">
        <a href="/admin">Admin Panel</a>
      </div>
    </footer>

    <script src="https://unpkg.com/qr-code-styling@1.6.0/lib/qr-code-styling.js"></script>
    <script>
      (function () {
        var ua = navigator.userAgent;
        var isAndroid = /Android/i.test(ua);
        var isIOS = /iPhone|iPad|iPod/i.test(ua) || (navigator.platform === "MacIntel" && navigator.maxTouchPoints > 1);
        var deepLink = "exps://EXPS_URL_PLACEHOLDER";

        if (isAndroid || isIOS) {
          document.getElementById("loading").style.display = "block";
          document.getElementById("hero-section").style.display = "none";
          window.location.href = deepLink;
          setTimeout(function () {
            document.getElementById("loading").style.display = "none";
            document.getElementById("hero-section").style.display = "flex";
          }, 500);
        }

        if (isAndroid) {
          var appBtn = document.getElementById("app-store-btn");
          if (appBtn) appBtn.style.display = "none";
        } else if (isIOS) {
          var playBtn = document.getElementById("play-store-btn");
          if (playBtn) playBtn.style.display = "none";
        }

        var qrCode = new QRCodeStyling({
          width: 400,
          height: 400,
          data: deepLink,
          dotsOptions: { color: "#1a2a3a", type: "rounded" },
          backgroundOptions: { color: "#ffffff" },
          cornersSquareOptions: { type: "extra-rounded" },
          cornersDotOptions: { type: "dot" },
          qrOptions: { errorCorrectionLevel: "H" }
        });
        qrCode.append(document.getElementById("qr-code"));

        var form = document.getElementById("contact-form");
        form.addEventListener("submit", function(e) {
          e.preventDefault();
          var btn = document.getElementById("contact-submit");
          var status = document.getElementById("contact-status");
          var name = document.getElementById("contact-name").value.trim();
          var email = document.getElementById("contact-email").value.trim();
          var message = document.getElementById("contact-message").value.trim();
          if (!name || !message) return;
          btn.disabled = true;
          btn.textContent = "Sending...";
          status.textContent = "";
          status.className = "contact-status";
          fetch("/api/contact", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ name: name, email: email, message: message })
          }).then(function(r) { return r.json(); }).then(function(data) {
            if (data.ok) {
              status.textContent = "Message sent! Thank you for reaching out.";
              status.className = "contact-status success";
              form.reset();
            } else {
              status.textContent = data.error || "Something went wrong. Please try again.";
              status.className = "contact-status error";
            }
          }).catch(function() {
            status.textContent = "Failed to send. Please try again later.";
            status.className = "contact-status error";
          }).finally(function() {
            btn.disabled = false;
            btn.textContent = "Send Message";
          });
        });
      })();
    </script>
  </body>
</html>
